Как это работает
Эндпоинт /api/users :
Возвращает полное содержимое файла users_data.json.
Эндпоинт /api/messages :
Возвращает полное содержимое файла messages_data.json.
Эндпоинт /api/messages/month :
Принимает параметры year и month через query string.
Фильтрует сообщения по указанному году и месяцу.
Возвращает только те сообщения, которые соответствуют заданному периоду.
Примеры запросов
Получить данные пользователей :
Копировать
1
GET http://localhost:8080/api/users
Получить все сообщения :
Копировать
1
GET http://localhost:8080/api/messages
Получить сообщения за март 2023 года :
Копировать
1
GET http://localhost:8080/api/messages/month?year=2023&month=3
Преимущества
Простота : Используется стандартная библиотека net/http.
Гибкость : Можно легко расширить функциональность (например, добавить авторизацию или другие фильтры).
Производительность : Горутины позволяют одновременно работать с Telegram-ботом и REST API.
Теперь ваш проект поддерживает REST API для доступа к данным пользователей и сообщений.